<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.kh.team2.dao.GroupDAO">
 	<select id="selectGroupList" resultType="RecruitVO">
        select recruit.*, me_nickname as recu_gome_me_nickname from recruit
 			join
 				group_member on gome_go_num = recu_go_num
			join
				`member` on gome_me_id = me_id
			where  gome_type = 1
			<choose>
				<when test='cri.type == "study"'>
					and recu_type = 0
				</when>
				<when test='cri.type == "project"'>
					and recu_type = 1
				</when>
				<otherwise>
				</otherwise>
			</choose>
			;
 	</select>
 	
 	<select id="selectRecruit" resultType="RecruitVO">
 		select * from recruit where recu_num = #{num}
 	</select>
 	
 	<select id="selectGroupKing" resultType="MemberVO">
 		select * from member where me_id = 
 		(select gome_me_id from group_member where gome_go_num = #{recu_go_num} and gome_type = 0)
 	</select>
 	
 	<select id="selectCategoryList" resultType="TotalCategoryVO">
 		select
 			total_category.*,
 			progCt_name as toCt_progCt_name
 		from
 			total_category
 				join
 			programming_category on progCt_num = toCt_progCt_num
 		where
 			toCt_table_name = #{table} and toCt_table_pk = #{num}
 	</select>
 	
 	<select id="selectLanguageList" resultType="TotalLanguageVO">
 		select
 			total_language.*,
 			lang_name as toLg_lang_name
 		from
 			total_language
 				join
 			programming_language on lang_num = toLg_lang_num
 		where
 			toLg_table_name = #{table} and toLg_table_pk = #{num}
 	</select>
 	
</mapper>